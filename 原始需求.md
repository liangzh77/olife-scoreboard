# 赛场信息屏幕需求书

## 一、赛场信息屏幕概述

### 1.1屏幕功能定位

赛场信息屏幕用于向参赛者及观众实时传递赛事进展、成绩排名、出发时刻等关键信息，确保信息显示准确、清晰且具备实时更新能力。
屏幕同时用于展示赛事赞助商的标识与宣传内容，在赛事进行期间以轮播形式呈现，兼顾商业价值传播与公共信息传达的双重属性。

### 1.2设计理念与目标

以简洁、直观、高可读性为核心设计原则，确保在不同光照条件下均能清晰辨识内容。确保辨色力缺陷人群也能准确识别关键信息。

### 1.3名称与代号

* 产品名称：赛场信息屏
* 英文名称：Track Screen
* 代号：TKSC

## 二、屏幕技术规格

### 2.1显示器尺寸与分辨率

* 显示设备尺寸范围大，通常从19英寸到100英寸不等，可以横向使用也可以竖向使用。
* 分辨率不低于1920×1080。

### 2.2显示器接口

需支持HDMI输入接口。

## 三、内容展示需求

### 3.1实时赛事信息更新

* 赛事信息通过HTTP Web API接口实时获取，数据刷新频率不低于60秒一次。
* 数据采用JSON格式包装。

* 接口
  * 测试 api 地址：http://192.168.3.163:8800/
  * 正式 api 地址：http://live.olife.run/
  * http://live.olife.run/#/，参考网页，这是赛事信息样例网站。这个网站实时调用本项目使用的接口，并实时显示数据。
    * http://live.olife.run/#/，显示多个赛事信息
    * http://live.olife.run/#/pages/course-board/course-board?courseId=2a2c9e31-3f34-48a1-91b7-7bde9db1f72e，显示其中一个赛事的一组的实时信息，包括已经结束比赛的选手的信息，和正在进行比赛的选手的实时数据。
    * 接口有两个
     * getTrackBoardEvents：/live/track-board/events
     * getTrackingBoard：/live/tracking-board/{courseId}
     * 接口调用参考 api 文件夹


### 3.2赛事成绩展示

**a)组别成绩**

* 页面上方展示赛事名称、组别名称。
* 组别成绩以列表方式展示已有成绩运动员的名次、号码布、国籍、姓名、出发时间、完赛用时、与第一名时间差、评估结果。
* 如果成绩一屏显示不下，需要采用同屏分栏显示，页滚动显示方式。
* 不同组别的成绩，按照轮播的形式进行依序展示。

**b)赞助商图标**

* 全屏展示赞助商图标。

### 3.3事件跑马灯

页面下面设置一条全局跑马灯，显示内容包括：
新出发运动员，新完成运动员，新进入前三名等。跑马灯信息就是一串文字从左到右跑过去一次。
* 新出发运动员（第一次出现实时数据的运动员）
* 新完成运动员（第一次出现完成数据的运动员）
* 新进入前三名（完成数据的前三名运动员改变时，显示“XXX获得第X名”）

### 3.4配置页面

参数配置页面需要显示：

* 版本号、网络连接状态、设备IP地址、数据源URL、最后更新时间。
* 配置参数名称，参数值。

## 四、用户交互设计

参考如下网站的展示风格：
  * http://live.olife.run/#/pages/course-board/course-board?courseId=ae41c959-95d0-42a4-b02f-0dbff6d240a1

### 4.1运行环境

软件运行在手机安卓系统，需适配安卓9.0及以上系统，可以HDMI外接显示器。

### 4.2触控功能与操作界面

触控功能仅用于管理员调试与配置，展示过程中不可见。

### 4.3页面功能

* 软件启动自动进入配置页面，用户可以设置参数，并且选择赛事、用于滚动显示的组别。
  * 版本号、网络连接状态、设备IP地址、数据源URL、最后更新时间。
  * 参数：每页停留时间，默认为30秒
  * 参数：轮播赞助商LOGO的频次（每轮播多少次组别后展示一次）
  * 参数：可以配置字体大小
  * 参数：可以配置分栏数量
  * 左侧有赛事列表
  * 点击一个赛事，右侧是组别列表（可选多个组别进行轮播）
  * 开始按钮，进入滚动播放
  * 退出按钮，退出程序

* 滚动播放页面，
  * 右上角隐藏的设置按钮（鼠标靠近出现）可以退出滚动播放，进入配置页面。

  * 成绩展示
    * 纵向分成多栏，每一栏是一个多行列表，每一行为一名运动员。
    * 一页显示不下就展示多页，每页停留若干秒，切换时应有平滑过渡动画，避免画面跳变影响观看体验。
    * 最后一页成绩展示结束后，如果还有其它组别，则切换组别，切换时应有平滑过渡动画。
    * 运动员信息：名次、号码布、国籍、姓名、出发时间、完赛用时、与第一名时间差、评估结果
  * 每过若干轮后，轮播赞助商 LOGO，一次一个 LOGO，下次展示下一个LOGO。LOGO 的URL通过 API 获得，API 以后提供。

## 五、技术栈

* 采用Uni-app框架进行跨平台开发，使用pnpm进行包管理、编译打包。
* UI采用uni-ui组件库实现界面布局与交互逻辑。
* 采用git进行版本控制，代码托管于公司内网GitLab仓库：[http://192.168.3.139/olife-universe/track-screen.git](http://192.168.3.139/olife-universe/track-screen.git)

## 六、系统集成与兼容性

### 6.1与赛场现有系统的集成

TBD

### 6.2兼容性要求与标准

* 兼容标准HDMI信号。
* 兼容HTTP 1.0/1.1协议，支持JSON数据解析。
* 兼容手机安卓系统、电视盒子安卓系统、电视安卓系统。
* 自适应屏幕分辨率，长宽比。
